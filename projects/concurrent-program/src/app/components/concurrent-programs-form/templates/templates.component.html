
<smd-datatable [tableId]="_shared.appKey + '.templates'" [paginated]="!_shared.getTemplatesEditable()" [loading]="_shared.templatesDetailsLoading" [primaryListing]="false"
class="tnz-input-table"  [filterEnabled]="!_shared.getTemplatesEditable()" [sortEnabled]="!_shared.getTemplatesEditable()" [showCheckBox]="false" [inputPath]="_shared.templatesDetailsPath">
   <smd-datatable-column title=" " field=" " *ngIf="_shared.editMode" [colStyle]="{'width':'20px'}">
       <ng-template let-model="data" let-index="index">
           <div class="row-operations">
            <mat-icon *ngIf="model.fileId" class="mat-color-disabled-danger" style="cursor: auto">delete</mat-icon>
            <mat-icon *ngIf="!model.fileId" class="mat-color-danger" matTooltip="delete line" (click)="deleteLine(index)">delete</mat-icon>
           </div>
       </ng-template>
   </smd-datatable-column>
   <smd-datatable-column title="#" field="sequence" sortable="true" [filterable]="true">
       <ng-template let-model="data" let-index="index">
           <span>{{model.sequence}}</span>
       </ng-template>
   </smd-datatable-column>
   <smd-datatable-column title=" " field=" " *ngIf="_shared.editMode" [colStyle]="{'width':'20px'}">
        <ng-template let-model="data" let-index="index">
            <div class="row-operations">
                    <input class="inputfile" #fileInput type="file" (change)="fileChanged($event,index)"/>
                    <mat-icon class="mat-color-info" matTooltip="Upload file" (click)="fileInput.click()">cloud_upload</mat-icon>
            </div>
        </ng-template>
    </smd-datatable-column>
   <smd-datatable-column title="File Name" field="fileName" sortable="true" [filterable]="true">
       <ng-template let-model="data" let-index="index">
           <span *ngIf="!_shared.getTemplatesEditable()">{{model.fileName}}</span>
           <div *ngIf="_shared.getTemplatesEditable('fileName')">
               <tnz-input [path]="_shared.getTemplatesDetailsPath(index,'fileName')" [primaryKey]="_shared.templatesDetailsPrimaryKey"
               [sharedData]="_shared.formData" validators="required" [isEdit]="false" [loading]="_shared.templatesDetailsLoading || _shared.loading">
               </tnz-input>
           </div>
       </ng-template>
   </smd-datatable-column>
   <smd-datatable-column title="Main Report" field="isSubReport" sortable="true" [filterable]="true" [colStyle]="{'width':'30px'}">
    <ng-template let-model="data" let-index="index">
        <div class="checkbox-center-align" *ngIf="!_shared.getTemplatesEditable('isSubReport')">
            <mat-checkbox [ngModel]="model.isSubReport == 'Y'" disabled></mat-checkbox>
        </div>
        <div *ngIf="_shared.getTemplatesEditable('isSubReport')">
            <tnz-input type="checkbox" [path]="_shared.getTemplatesDetailsPath(index,'isSubReport')"
                [primaryKey]="_shared.templatesDetailsPrimaryKey" [sharedData]="_shared.formData"
                [isEdit]="_shared.getTemplatesEditable(index,'isSubReport')" [loading]="_shared.parametersDetailsLoading || _shared.loading"
                class="checkbox-center-align">
            </tnz-input>
        </div>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title="Active" field="active" sortable="true" [filterable]="true" [colStyle]="{'width':'30px'}">
    <ng-template let-model="data" let-index="index">
        <div class="checkbox-center-align" *ngIf="!_shared.getTemplatesEditable('active')">
            <mat-icon *ngIf="model.active == 'Y'" class="active-icon" matTooltip="Active">check_circle</mat-icon>
            <mat-icon *ngIf="model.active == 'N'" class="inactive-icon" matTooltip="Inactive">cancel</mat-icon>
        </div>
        <div *ngIf="_shared.getTemplatesEditable('active')">
            <tnz-input type="checkbox" [path]="_shared.getTemplatesDetailsPath(index,'active')"
                [primaryKey]="_shared.templatesDetailsPrimaryKey" [sharedData]="_shared.formData"
                [isEdit]="_shared.getTemplatesEditable(index,'active')" [loading]="_shared.parametersDetailsLoading || _shared.loading"
                class="checkbox-center-align">
            </tnz-input>
        </div>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title=" " field=" " [colStyle]="{'width':'20px'}">
    <ng-template let-model="data" let-index="index">
        <div class="row-operations">
            <mat-icon class="mat-color-info" matTooltip="Download file" (click)="downloadFile(model)">cloud_download</mat-icon>
        </div>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title="Created By" field="createdBy" sortable="true" [filterable]="true">
    <ng-template let-model="data" let-index="index">
        <span>{{model.createdBy}}</span>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title="Created On" field="creationDate" sortable="true" [filterable]="true">
    <ng-template let-model="data" let-index="index">
        <span>{{model.creationDate}}</span>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title="Modified By" field="lastUpdatedBy" sortable="true" [filterable]="true">
    <ng-template let-model="data" let-index="index">
        <span>{{model.lastUpdatedBy}}</span>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title="Modified On" field="lastUpdateDate" sortable="true" [filterable]="true">
    <ng-template let-model="data" let-index="index">
        <span>{{model.lastUpdateDate}}</span>
    </ng-template>
</smd-datatable-column>
</smd-datatable>