
<smd-datatable [tableId]="_shared.appKey + '.roles'" [paginated]="!_shared.getRolesEditable()" [loading]="_shared.rolesDetailsLoading" [primaryListing]="false"
class="tnz-input-table"  [showCheckBox]="false" [inputPath]="_shared.rolesDetailsPath">
   <smd-datatable-column title=" " field=" " *ngIf="_shared.editMode" [colStyle]="{'width':'20px'}">
       <ng-template let-model="data" let-index="index">
           <div class="row-operations">
                <mat-icon *ngIf="model.securityId" class="mat-color-disabled-danger" style="cursor: auto">delete</mat-icon>
                <mat-icon *ngIf="!model.securityId" class="mat-color-danger" matTooltip="delete line" (click)="deleteLine(index)">delete</mat-icon>
           </div>
       </ng-template>
   </smd-datatable-column>
   <smd-datatable-column title="#" field="sequence" sortable="true" [filterable]="true">
       <ng-template let-model="data" let-index="index">
           <span>{{model.sequence}}</span>
       </ng-template>
   </smd-datatable-column>
   <smd-datatable-column title="Role" field="roleName" sortable="true" [filterable]="true">
       <ng-template let-model="data" let-index="index">
           <span *ngIf="!_shared.getRolesEditable()">{{model.roleName}}</span>
           <div *ngIf="_shared.getRolesEditable('roleName')">
                <tnz-input type="lov" [path]="_shared.getRolesDetailsPath(index,'roleName')" [primaryKey]="_shared.rolesDetailsPrimaryKey" displayKey="label"
                [sharedData]="_shared.formData" [lovConfig]="roleLov" [isEdit]="_shared.getRolesEditable('roleName')" validators="required"
                [loading]="_shared.rolesDetailsLoading || _shared.loading" >
                </tnz-input>
           </div>
       </ng-template>
   </smd-datatable-column>
   <smd-datatable-column title="Start Date" field="startDate" sortable="true" [filterable]="true">
    <ng-template let-model="data" let-index="index">
        <span *ngIf="!_shared.getRolesEditable()">{{model.startDate}}</span>
        <div *ngIf="_shared.getRolesEditable('startDate')">
            <tnz-input type="date" [path]="_shared.getRolesDetailsPath(index,'startDate')" [primaryKey]="_shared.rolesDetailsPrimaryKey" [sharedData]="_shared.formData"
                validators="required" [isEdit]="_shared.getRolesEditable('startDate')" [loading]="_shared.rolesDetailsLoading || _shared.loading">
            </tnz-input>
        </div>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title="End Date" field="endDate" sortable="true" [filterable]="true">
    <ng-template let-model="data" let-index="index">
        <span *ngIf="!_shared.getRolesEditable()">{{model.endDate}}</span>
        <div *ngIf="_shared.getRolesEditable('endDate')">
            <tnz-input type="date" [path]="_shared.getRolesDetailsPath(index,'endDate')" [primaryKey]="_shared.rolesDetailsPrimaryKey" [sharedData]="_shared.formData"
            [isEdit]="_shared.getRolesEditable('endDate')" [loading]="_shared.rolesDetailsLoading || _shared.loading">
            </tnz-input>
        </div>
    </ng-template>
</smd-datatable-column>
<smd-datatable-column title="Active" field="active" sortable="true" [filterable]="true" [colStyle]="{'padding-right': '0px'}">
    <ng-template let-model="data" let-index="index">
        <div class="checkbox-center-align">
            <mat-icon *ngIf="model.active == 'Y'" class="active-icon" matTooltip="Active">check_circle</mat-icon>
            <mat-icon *ngIf="model.active == 'N'" class="inactive-icon" matTooltip="Inactive">cancel</mat-icon>
        </div>
    </ng-template>
</smd-datatable-column>
</smd-datatable>