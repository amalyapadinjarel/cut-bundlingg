<smd-datatable [tableId]="_shared.appKey + '.rolesOrgAccess'" [paginated]="!_shared.getRolesOrgAccessEditable()"
    [loading]="_shared.rolesOrgAccessLoading" class="tnz-input-table"
    [sortEnabled]="!_shared.getRolesOrgAccessEditable()" (onRowSelected)="onRowSelected()"
    (onAllRowsSelected)="onRowSelected()" [showCheckBox]="false" [inputPath]="_shared.rolesOrgAccessPath"
    [primaryKey]="_shared.rolesOrgAccessPrimaryKey">

    <smd-datatable-column title=" " field=" " *ngIf="_shared.getRolesOrgAccessEditable()" [colStyle]="{'width':'10px'}">
        <ng-template let-model="data" let-index="index">
            <div class="row-operations">
                <mat-icon *ngIf="model[_shared.rolesOrgAccessPrimaryKey]==0" class="mat-color-danger"
                    matTooltip="delete line" (click)="deleteLine(index,model)">delete</mat-icon>
                <mat-icon *ngIf="model[_shared.rolesOrgAccessPrimaryKey] != 0" class="mat-color-disabled-danger"
                    matTooltip="Delete disabled">delete</mat-icon>
            </div>
        </ng-template>
    </smd-datatable-column>
    <smd-datatable-column title="Division" field="division" sortable="true" [filterable]="true"
        [colStyle]="{'width':'40px'}">
        <ng-template let-model="data">
            {{model.facility==""?model.division:""}}
        </ng-template>
    </smd-datatable-column>
    <smd-datatable-column title="Facility" field="facility" sortable="true" [filterable]="true"
        [colStyle]="{'width':'40px'}">
        <ng-template let-model="data">
            {{model.facility}}
        </ng-template>
    </smd-datatable-column>
    <smd-datatable-column title="Access" field="access" sortable="true" [filterable]="true"
        [colStyle]="{'width':'10px'}">
        <ng-template let-model="data" let-index="index">
            <div class="checkbox-center-align" *ngIf="!_shared.getRolesOrgAccessEditable('access')">
                <mat-icon *ngIf="model.access == 'Y'" class="active-icon" matTooltip="Active">check_circle
                </mat-icon>
                <mat-icon *ngIf="model.access == 'N'" class="inactive-icon" matTooltip="Inactive">cancel
                </mat-icon>
            </div>
            <div *ngIf="_shared.getRolesOrgAccessEditable('access')" class="checkbox-center-align">
                <tnz-input type="checkbox" [path]="_shared.getRolesOrgAccessPath(index,'access')"
                    [primaryKey]="_shared.rolesOrgAccessPrimaryKey" [sharedData]="_shared.formData"
                    [isEdit]="getIfEditable(index,'access')"
                    [loading]="_shared.rolesOrgAccessLoading || _shared.loading">
                </tnz-input>
            </div>
        </ng-template>
    </smd-datatable-column>
    <smd-datatable-column title="Default" field="default" sortable="true" [filterable]="true"
        [colStyle]="{'width':'15px'}">
        <ng-template let-model="data" let-index="index">
            <div class="checkbox-center-align" *ngIf="!_shared.getRolesOrgAccessEditable('default')">
                <mat-icon *ngIf="model.default=='Y'" class="default-icon"
                    matTooltip="Default">check_circle</mat-icon>
                
            </div>
            <div *ngIf="_shared.getRolesOrgAccessEditable('default')" class="checkbox-center-align">
                <tnz-input type="checkbox" [path]="_shared.getRolesOrgAccessPath(index,'default')"
                    [primaryKey]="_shared.rolesOrgAccessPrimaryKey" [sharedData]="_shared.formData"
                    [isEdit]="getIfEditable(index,'default')"
                    [loading]="_shared.rolesOrgAccessLoading || _shared.loading"
                    (valueChanged)="defaultCheck($event,model,index)">
                </tnz-input>
            </div>
        </ng-template>
    </smd-datatable-column>

    <smd-datatable-column title=" " field=" " *ngIf="_shared.getRolesOrgAccessEditable()" [colStyle]="{'width':'20px'}">
        <ng-template let-model="data" let-index="index">
            <div class="row-operations" *ngIf="model.facilityId==0">
                <button mat-button matTooltip="Add Facility">
                    <mat-icon class="mat-color-info" (click)="copyFromFacility(model)">add_box</mat-icon>
                </button>
            </div>
        </ng-template>
    </smd-datatable-column>
</smd-datatable>


